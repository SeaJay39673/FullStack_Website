(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("express");var a=e.n(t);const n=require("react");var l=e.n(n);const s=require("react-dom/server");var r=e.n(s);const c=require("react-router-dom/server.js"),o=require("fs");var i=e.n(o);const m=require("path");var u=e.n(m);const d=require("mongoose");var p=e.n(d);const E=require("dotenv");e.n(E)().config({path:u().resolve("./server/.env")});const g=require("mongodb"),v=new d.Schema({user:{type:g.ObjectId,required:!0},image:{type:Buffer,default:null},caption:{type:String,default:null},likes:{type:[String],default:[]},dislikes:{type:[String],default:[]},comments:{type:[String],default:[]},date:{type:Date,required:!0}}),b=p().model("Post",v),f=a().Router();f.get("/:_id",(async(e,t)=>{let a;a="null"!==e.params._id?await b.find({user:e.params._id}):await b.find({});const n=a.map((e=>Object({...e._doc,image:null!==e._doc.image?"data:image/png;base64,"+Buffer.from(e._doc.image,"base64").toString("base64"):null})));t.status(200).json(n)})),f.post("/",(async(e,t)=>{const a=await b.create({user:e.body.user,caption:e.body.caption,image:e.body.image?Buffer.from(e.body.image.split(",")[1],"base64"):null,date:new Date});t.status(200).json(a)})),f.post("/update/:_id",(async(e,t)=>{const a=e.body._id;let n=await b.findById(e.params._id);switch(e.body.method){case"Like":n.likes=n.likes.includes(a)?n.likes.filter((e=>e!==a)):[...n.likes,a],n.dislikes=n.dislikes.includes(a)?n.dislikes.filter((e=>e!==a)):n.dislikes;break;case"Dislike":n.dislikes=n.dislikes.includes(a)?n.dislikes.filter((e=>e!==a)):[...n.dislikes,a],n.likes=n.likes.includes(a)?n.likes.filter((e=>e!==a)):n.likes;break;case"Comment":break;default:t.status(400)}await n.save(),t.status(200).json({})}));const y=f,h=new d.Schema({name:{type:String,required:!0},username:{type:String,required:!0,unique:!0},password:{type:String,required:!0},profile:{type:Buffer,required:!1,default:Buffer.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLeqsbTn6eqpr7PJzc/j5ebf4eLZ3N2wtrnBxsjN0NLGysy6v8HT1tissra8wMNxTKO9AAAFDklEQVR4nO2d3XqDIAxAlfivoO//tEOZWzvbVTEpic252W3PF0gAIcsyRVEURVEURVEURVEURVEURVEURVEURVEURVEURflgAFL/AirAqzXO9R7XNBVcy9TbuMHmxjN6lr92cNVVLKEurVfK/zCORVvW8iUBnC02dj+Wpu0z0Y6QlaN5phcwZqjkOkK5HZyPAjkIjSO4fIdfcOwFKkJlX4zPu7Ha1tIcwR3wWxyFhRG6g4Je0YpSPDJCV8a2Sv2zd1O1x/2WMDZCwljH+clRrHfWCLGK8REMiql//2si5+DKWKcWeAGcFMzzNrXC/0TUwQ2s6+LhlcwjTMlYsUIQzPOCb7YBiyHopyLXIEKPEkI/TgeuiidK/R9FniUDOjRDpvm0RhqjMyyXNjDhCfIMYl1gGjIMIuYsnGEYRMRZOMMunaLVwpWRW008v6fYKDIzxCwVAeNSO90BJW6emelYBRF/kHpYGVaoxTDAaxOFsfP9y8hpJ4xd7gOcij7JNGQ1EYFgkPJa1jQEiYZXRaRINKxSDUW9n+FT82lSKadkiru9/4XPqSLWOekGPoY05TAvLm9orm+YWuwHoBHkZKijNBJGmeb61eL6Ff/6q7bLr7yvv3vKGhpDRjvgjGaPz+gUg6YgcvpyAR2FIZ9U6nEEyZRTovmEU32KichpGn7C17XrfyH9gK/c0CMP05HZIM2uf9sEveizKveBy9/6Qt7o89ne33D525cfcIMW6ab+TMEukQbQbu+xu7X3A9bChmWaCeAkG17bpntwXgWxHaMzGPmUaR5dQZiKqRVeUZ3047fi3nAu28h4CHxCsZAgmEH8Y27jJAhm8c+5RQzRQNVGhVFSfxOYIjp/pP7RxzjevYXVGf4eLt+BJ1vCuLuLkrgABgCGXZ2wik5uty+oBvNirI6mkzhAf4Gsb58Hcm67Jzd+KwD10BYPLL3e0MjvKrgAULnOfveF/O4N2Xb9BZom3gJes3F9X5Zze8/6Yt09b4CrqsEjUv8oFBaR2rl+6CZr2xVrp24o/WitBKuGrrpl1+bFkmK2qXTON4VpbdfLa7o7y/WdLxG7lm2Lqh2clOwTegbvc/vj2U78CwhA87Bn8G5Nk3eOb0Nsr9flz3sG78UUtue4kpv1xvjg3TMay62BMlTlP+vrOMnJsRmt/ze0jsfkPPYdAH57hK+34PeOyc8XIXu5xT2HsUkdZz+adwg8HGFfQ3K5jtDvbUiO4Di9/ywHGrL88pDizZ++oTp+an+SMX/ndymUCwmHMdO7yuOx83pUx/eEMU0AvxWndwgidAqOZ8ypCwdEfvvEo6D9HwpA8wzvmOJEqAg9ySu8g4x0Hb9hSB/BANEKJ+LbPBU0lzbAJs4xt1AoshKkUGQmiH8/jJ0gdhTTLmSegHlPE0oOdXALnqDjKYh3px//fSgSWG8UqfrrIICzYYSJXRr9BSPbpNzw7gBjKjKOYI7ReIGqQRIap5+5MdjyvuDkExvGeXSlONWZAP3/AZBwJohU7QJRGU+cTVH18ELmRPNBmibW6MT/k1b0XhdkRBvyT6SB6EYv/GvhSmRNpGngRULsAlxMCGNXp7w3FfdEbTEEDdLI9TdIKRUzUesa3I461ER8cpNT7gMRhpKmYVS9ELOgCUQsa4SsulciKiLbY+AnHD8cpuhISsnxpamI84sbDq9qYJgf8wiiOBrC7Ml7M7ZECCqKoiiKoiiKoiiKoijv5AvJxlZRyNWWLwAAAABJRU5ErkJggg==".split(",")[1],"base64")},bio:{type:String,required:!1,default:"Edit account to update bio!"}}),N=d.mongoose.model("Account",h),w=new d.Schema({post:{type:String,required:!0},user:{type:String,required:!0},content:{type:String,required:!0},date:{type:Date,required:!0}}),S=p().model("Comment",w),k=a().Router();k.post("/login",(async(e,t)=>{const a=await N.findOne({username:e.body.username,password:e.body.password});if(a){const{password:e,...n}=a._doc,l={...n,profile:"data:image/png;base64,"+Buffer.from(n.profile,"base64").toString("base64")};t.status(200).json({account:l})}else t.status(400).json({error:"Invalid username or password"})})),k.post("/signUp",(async(e,t)=>{try{const a=await N.create({name:e.body.name,username:e.body.username,password:e.body.password}),{password:n,...l}=a._doc;t.status(200).json({account:l})}catch(e){t.status(400).json({error:"Username already taken"})}})),k.get("/:_id",(async(e,t)=>{try{const a=await N.findOne({_id:e.params._id}),n={name:a.name,profile:"data:image/png;base64,"+Buffer.from(a.profile,"base64").toString("base64")};t.status(200).json(n)}catch(e){t.status(404).json({error:"error getting account by id"})}})),k.post("/update:_id",(async(e,t)=>{let a=await N.findById(e.params._id);a.profile=Buffer.from(e.body.profile.split(",")[1],"base64"),a.name=""!==e.body.name?e.body.name:a.name,a.bio=e.body.bio,a.password=""!==e.body.password?e.body.password:a.password;const n=await a.save(),{password:l,...s}=n._doc,r={...s,profile:"data:image/png;base64,"+Buffer.from(a.profile,"base64").toString("base64")};t.status(200).json(r)}));const A=k,x=a().Router();x.get("/:_id",(async(e,t)=>{const a=await S.find({post:e.params._id}),n=await Promise.all(a.map((e=>(async e=>{const t=await N.findById(e.user),{password:a,_id:n,...l}=t._doc;return{...e._doc,...{...l,profile:"data:image/png;base64,"+Buffer.from(l.profile,"base64").toString("base64")}}})(e))));t.status(200).json(n)})),x.post("/",(async(e,t)=>{try{const a=await S.create({post:e.body.post,user:e.body.user,content:e.body.content,date:new Date});let n=await b.findById(e.body.post);n.comments=[a._id,...n.comments],await n.save(),t.status(200).json(a)}catch(e){console.log(e),t.status(400).json({})}}));const C=x,z=require("cors");var R=e.n(z);const j=require("body-parser");var q=e.n(j);const I=require("react-router-dom"),B=require("react-storage-complete"),L="";function M(e){let{state:t,setState:a=(e=>e)}=e;const s=(0,I.useNavigate)(),[r,c]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[d,p]=(0,B.useSessionStorage)("signUp",!1),[E,g]=(0,B.useSessionStorage)("valid",!0),[v,b]=(0,B.useSessionStorage)("invalidMessage",""),f=()=>{c(""),i(""),u("")},y=()=>{f(),p(!1),g(!0)},h=async function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return a({account:{id:null}}),y(),s("/Posts");const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:o,name:m})};f();const t=await fetch("".concat(L,"/api/account/").concat(d?"signUp":"login"),e),n=await t.json();t.ok?(a(n),y(),s("/Posts")):(b(n.error),g(!1))};return l().createElement("div",{className:"row p-3"},l().createElement("form",{className:"col-lg-6 rounded p-3 mx-auto contrast",onSubmit:e=>{e.preventDefault(),h()}},l().createElement("h1",{style:{textAlign:"center"}},d?"Sign Up":"Login"),!E&&l().createElement("p",{className:"text-danger"},v),d&&l().createElement("div",null,l().createElement("label",{className:"form-lable"},"Full Name"),l().createElement("input",{className:"form-control",type:"name",required:!0,value:m,onInput:e=>u(e.target.value)})),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Username"),l().createElement("input",{className:"form-control",type:"username",required:!0,value:r,onInput:e=>c(e.target.value)})),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Password"),l().createElement("input",{className:"form-control",type:"password",required:!0,value:o,onInput:e=>i(e.target.value)})),l().createElement("div",{className:"row p-3"},l().createElement("button",{type:"submit",className:"col-lg-6 mx-auto btn btn-success"},d?"Sign Up":"Sign In")),l().createElement("table",{style:{width:"100%"}},l().createElement("tr",null,l().createElement("th",null,l().createElement("button",{className:"btnLink contrast",onClick:()=>(f(),p(!d),void g(!0))},d?"Already have an account?":"Don't have an account?")),l().createElement("th",{style:{textAlign:"right"}},l().createElement("button",{className:"btnLink contrast",onClick:()=>h(!0)},"Browse Anonymously"))))))}const O=require("react-icons/md"),D=require("react-router");function P(e){let{filter:t,setFilter:a=(e=>e)}=e;return(0,D.useNavigate)(),l().createElement("div",{className:"row p-4"},l().createElement("div",{className:"col-lg-6 mx-auto rounded p-3 contrast"},l().createElement("h1",{style:{textAlign:"center"}},"Fitler"),l().createElement("form",{className:"row"},l().createElement("div",{className:"col"},l().createElement("input",{type:"radio",checked:"Dates"===t.status,onChange:()=>a({status:"Dates"})}),l().createElement("label",null,"Daets")),l().createElement("div",{className:"col"},l().createElement("input",{type:"radio",checked:"Likes"===t.status,onChange:()=>a({status:"Likes"})}),l().createElement("label",null,"Lieks")),l().createElement("div",{className:"col"},l().createElement("input",{type:"radio",checked:"Dislikes"===t.status,onChange:()=>a({status:"Dislikes"})}),l().createElement("label",null,"Dislieks")),l().createElement("div",{className:"col"},l().createElement("input",{type:"radio",checked:"Comments"===t.status,onChange:()=>a({status:"Comments"})}),l().createElement("label",null,"Commetns")))))}const U=require("react-icons/gi");function _(e){var t,a;let{className:n,size:s=30,style:r={}}=e;return r.width=null!==(t=r.width)&&void 0!==t?t:s,r.height=null!==(a=r.height)&&void 0!==a?a:s,l().createElement("svg",{className:n,style:r,version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300.000000 264.000000",preserveAspectRatio:"xMidYMid meet"},l().createElement("g",{transform:"translate(0.000000,264.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"black",strokeWidth:"50"},l().createElement("path",{d:"M600 2565 c-77 -21 -166 -67 -223 -114 -119 -99 -175 -207 -202 -387\r -8 -49 -7 -50 101 -59 l79 -7 39 37 c40 36 40 43 1 59 -6 2 -4 13 4 27 8 13\r 17 40 20 59 5 29 16 42 64 73 46 31 57 44 57 65 0 41 52 96 122 131 53 27 72\r 31 144 31 85 0 100 6 89 39 -16 51 -181 77 -295 46z m203 -28 c41 -14 33 -22\r -25 -25 -63 -3 -128 -19 -128 -32 0 -6 -6 -10 -13 -10 -24 0 -95 -69 -117\r -114 -11 -25 -44 -64 -73 -89 -43 -37 -54 -53 -66 -98 -7 -30 -13 -65 -13 -79\r 0 -39 -16 -50 -73 -50 -70 0 -85 7 -85 39 1 95 64 225 154 313 124 123 317\r 186 439 145z"}),l().createElement("path",{d:"M2155 2568 c-36 -13 -75 -46 -75 -65 0 -16 25 -21 120 -26 88 -3 135\r -23 197 -82 33 -32 43 -49 43 -74 0 -25 6 -35 31 -49 58 -31 89 -63 89 -89 0\r -14 8 -38 17 -54 18 -30 14 -39 -21 -52 -5 -2 8 -20 30 -41 l39 -38 79 7 c110\r 9 109 8 101 69 -27 212 -141 371 -328 455 -106 48 -247 65 -322 39z m210 -33\r c192 -50 336 -185 390 -367 20 -67 20 -114 -1 -122 -9 -3 -39 -6 -69 -6 -56 0\r -82 17 -71 45 3 9 -1 35 -9 58 -8 23 -15 50 -15 59 0 9 -25 38 -55 64 -31 26\r -63 65 -74 88 -36 79 -132 146 -225 155 -33 3 -61 11 -63 18 -8 24 109 29 192\r 8z"}),l().createElement("path",{d:"M1021 2218 c-31 -74 -145 -164 -202 -160 -20 2 -40 -12 -85 -58 -48\r -50 -64 -60 -92 -60 -37 0 -63 12 -105 46 -16 13 -33 24 -38 24 -5 0 -30 -19\r -54 -41 l-45 -42 -121 7 -120 7 -14 -33 c-21 -51 -55 -242 -55 -306 1 -63 19\r -123 47 -154 10 -12 42 -37 72 -56 48 -31 59 -34 103 -29 63 8 141 50 185 102\r 20 22 51 74 70 115 52 112 72 134 171 181 48 22 104 55 125 71 100 80 223 322\r 203 402 -9 38 -24 32 -45 -16z m-35 -160 c-33 -72 -103 -167 -152 -204 -21\r -17 -70 -45 -109 -63 -88 -41 -139 -95 -192 -203 -103 -208 -277 -253 -380\r -97 -20 31 -27 54 -28 99 -3 66 29 250 50 290 13 25 15 26 92 19 43 -4 87 -5\r 97 -3 43 8 85 26 101 44 23 25 42 25 80 0 42 -28 98 -42 127 -31 12 5 46 31\r 74 57 38 37 66 54 112 68 34 10 62 21 62 25 0 3 18 17 40 31 22 14 40 29 41\r 35 0 5 3 5 5 -1 3 -6 -6 -36 -20 -66z"}),l().createElement("path",{d:"M1916 2244 c-3 -9 -6 -24 -6 -34 0 -36 49 -162 90 -230 61 -103 122\r -160 234 -214 108 -53 128 -74 179 -187 57 -124 151 -203 257 -216 43 -5 55\r -2 98 25 93 60 122 112 122 218 0 71 -32 245 -55 301 l-14 34 -118 -7 -119 -7\r -47 42 c-27 22 -52 41 -57 41 -4 0 -27 -16 -50 -35 -33 -28 -51 -35 -84 -35\r -38 0 -47 5 -100 61 -44 47 -62 60 -78 56 -51 -14 -190 97 -208 164 -11 40\r -33 51 -44 23z m118 -166 c26 -24 101 -58 127 -58 12 0 42 -20 67 -46 52 -52\r 67 -61 108 -68 27 -4 43 2 122 46 30 18 31 18 60 -11 37 -38 92 -52 167 -43\r 98 11 108 10 122 -19 7 -15 22 -75 34 -135 34 -173 15 -254 -72 -314 -113 -77\r -236 -14 -326 165 -57 115 -89 148 -193 199 -82 40 -150 95 -195 159 -36 51\r -75 129 -75 150 0 21 5 18 54 -25z"}),l().createElement("path",{d:"M1170 1700 c-12 -12 -20 -33 -20 -55 l0 -35 -90 0 c-66 0 -104 -5\r -144 -21 -73 -27 -148 -96 -183 -167 l-28 -57 0 -355 0 -355 28 -56 c30 -63\r 93 -126 155 -158 52 -27 170 -45 249 -38 l62 5 3 -113 3 -112 194 110 195 109\r 167 -1 c256 -3 340 20 430 116 82 88 84 97 84 498 l0 350 -28 57 c-35 71 -110\r 140 -183 167 -40 16 -78 21 -144 21 l-90 0 0 35 c0 64 -65 97 -118 59 -16 -11\r -22 -25 -22 -55 l0 -39 -200 0 -200 0 0 38 c0 25 -7 45 -18 55 -25 23 -78 21\r -102 -3z m85 -54 c28 -66 28 -66 230 -66 101 0 191 3 200 6 9 4 25 27 36 51\r 15 36 23 44 41 41 14 -2 24 -11 26 -23 2 -11 11 -31 22 -45 16 -22 28 -25 113\r -31 141 -11 237 -65 290 -163 21 -39 22 -56 27 -370 3 -215 1 -344 -6 -375\r -22 -95 -67 -149 -164 -198 -54 -27 -60 -27 -275 -33 l-220 -5 -70 -41 c-107\r -64 -257 -145 -261 -141 -1 1 -4 35 -7 76 -5 100 -18 111 -136 111 -169 0\r -280 56 -334 170 l-27 55 3 355 c2 352 2 355 25 395 61 103 151 154 290 163\r 75 4 89 8 109 30 13 14 23 33 23 43 0 17 13 27 38 28 7 1 19 -14 27 -33z"}),l().createElement("path",{d:"M1035 1097 c-46 -26 -65 -57 -65 -110 0 -63 62 -127 123 -127 34 0\r 89 32 108 64 65 107 -57 235 -166 173z m106 -27 c10 -6 26 -24 35 -41 32 -62\r -13 -129 -86 -129 -30 0 -44 6 -64 31 -35 41 -34 83 3 120 31 31 75 38 112 19z"}),l().createElement("path",{d:"M1441 1102 c-48 -23 -64 -48 -69 -107 -4 -53 -3 -57 31 -89 39 -37\r 91 -52 128 -37 112 46 118 189 9 235 -42 17 -60 17 -99 -2z m100 -32 c10 -6\r 26 -24 35 -41 32 -62 -13 -129 -86 -129 -30 0 -44 6 -64 31 -35 41 -34 83 3\r 120 31 31 75 38 112 19z"}),l().createElement("path",{d:"M1834 1094 c-53 -36 -63 -52 -64 -99 0 -46 28 -98 62 -116 33 -18 99\r -15 130 5 30 19 58 72 58 108 0 58 -69 128 -126 128 -12 0 -39 -12 -60 -26z\r m123 -38 c39 -34 39 -98 0 -132 -42 -36 -98 -33 -131 7 -35 41 -34 83 3 120\r 38 37 88 39 128 5z"}),l().createElement("path",{d:"M553 1425 c-28 -42 -116 -113 -151 -121 -15 -4 -31 -9 -35 -11 -4 -3\r 48 -38 115 -78 l123 -73 6 122 c3 67 11 131 18 144 14 26 15 25 -16 41 -31 16\r -36 14 -60 -24z m29 -117 c-4 -87 -11 -106 -34 -92 -7 5 -15 9 -18 9 -13 1\r -70 40 -74 51 -2 6 22 33 55 60 32 27 59 53 59 57 0 5 4 6 8 3 5 -3 7 -42 4\r -88z"}),l().createElement("path",{d:"M2364 1448 c-20 -9 -21 -12 -8 -56 8 -26 14 -90 14 -149 0 -56 2\r -103 4 -103 2 0 55 32 117 70 62 39 116 70 121 70 18 0 -3 18 -28 24 -42 11\r -111 63 -147 111 -34 47 -40 50 -73 33z m79 -87 c23 -22 53 -48 67 -59 l25\r -20 -25 -21 c-14 -11 -31 -20 -37 -21 -7 0 -13 -5 -13 -12 0 -6 -3 -8 -7 -5\r -3 4 -12 2 -20 -5 -8 -7 -17 -7 -23 -2 -7 8 -19 184 -12 184 2 0 22 -18 45\r -39z"}),l().createElement("path",{d:"M556 758 c-54 -15 -110 -74 -124 -131 -21 -83 -10 -222 18 -222 10 0\r 17 16 22 53 14 96 70 172 126 172 22 0 24 3 18 31 -3 17 -6 49 -6 70 0 22 -3\r 39 -7 38 -5 -1 -25 -6 -47 -11z m24 -58 c0 -19 -14 -36 -57 -71 -11 -9 -27\r -27 -36 -39 -21 -31 -31 -20 -23 24 13 68 116 144 116 86z"}),l().createElement("path",{d:"M2370 723 c0 -27 -3 -58 -6 -70 -5 -20 -2 -23 19 -23 59 0 121 -91\r 129 -190 4 -41 29 -48 39 -10 11 39 10 161 -2 203 -15 54 -62 103 -116 121\r -26 9 -50 16 -55 16 -4 0 -8 -21 -8 -47z m94 -24 c31 -24 46 -51 57 -96 9 -41\r -1 -42 -29 -3 -12 16 -35 36 -51 44 -28 15 -42 40 -34 64 7 18 27 15 57 -9z"}),l().createElement("path",{d:"M623 517 c-69 -72 -81 -154 -35 -248 32 -65 88 -127 102 -113 8 8 6\r 27 -9 72 -12 34 -21 75 -21 93 0 39 26 95 53 114 l21 15 -25 27 c-14 16 -33\r 38 -41 50 l-15 23 -30 -33z m47 -47 c9 -16 7 -26 -8 -48 -22 -30 -41 -91 -35\r -109 2 -6 0 -14 -5 -17 -14 -8 -34 81 -27 115 6 25 46 79 59 79 3 0 10 -9 16\r -20z"}),l().createElement("path",{d:"M2286 484 l-38 -45 26 -24 c51 -47 59 -110 26 -202 -24 -68 -24 -73\r -6 -73 20 0 80 76 105 131 25 53 27 129 5 172 -16 32 -63 87 -73 87 -3 -1 -23\r -21 -45 -46z m81 -41 c18 -28 27 -111 13 -128 -5 -5 -8 -14 -8 -20 0 -5 -5\r -11 -11 -13 -7 -2 -11 11 -11 32 0 20 -11 58 -24 85 -19 36 -22 51 -13 60 18\r 18 35 13 54 -16z"}),l().createElement("path",{d:"M781 358 c-17 -48 -13 -88 13 -143 29 -62 121 -154 137 -138 8 8 3\r 25 -15 62 -35 68 -43 130 -23 170 12 24 12 31 3 31 -7 0 -34 11 -59 24 l-46\r 25 -10 -31z m67 -91 c2 -36 -1 -57 -8 -57 -15 0 -30 44 -30 86 0 28 4 35 18\r 32 13 -2 18 -15 20 -61z"}),l().createElement("path",{d:"M2133 361 c-44 -22 -51 -29 -45 -46 16 -44 7 -119 -21 -174 -49 -96\r 1 -86 84 16 55 70 73 147 46 204 l-12 25 -52 -25z m40 -58 c6 -31 -16 -93 -32\r -93 -12 0 -15 102 -4 113 14 15 31 6 36 -20z"})))}function T(e){let{post:t}=e;return l().createElement("div",null,l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-2 p-3"},l().createElement("img",{className:"rounded",style:{width:"100px",height:"100px"},src:t.profile,alt:""})),l().createElement("h2",{className:"col-lg-6",style:{marginLeft:40,display:"flex",alignItems:"center"}},t.name)),null!==t.image&&l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-10 mx-auto"},l().createElement("img",{className:"rounded",width:600,height:400,src:t.image}))),l().createElement("p",null,t.caption))}function G(e){var t,a;let{post:n,state:s,setRender:r=(e=>e)}=e;const c=(0,I.useNavigate)(),o=null!==(t=null===(a=s.account)||void 0===a?void 0:a._id)&&void 0!==t?t:null,i=null===o,m=async e=>{await fetch("".concat(L,"/api/posts/update/").concat(n._id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r(!0)};let u=n.likes.length,d=n.dislikes.length,p=n.comments.length;return l().createElement("div",{style:{marginBottom:"10px"},className:"contrast rounded p-3"},l().createElement(T,{post:n}),l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-1"},l().createElement("button",{className:"btn",onClick:()=>{m({method:"Like",_id:o})},disabled:i},n.likes.includes(o)?l().createElement(U.GiCrabClaw,{className:"clawLike",size:40,style:{color:"#fb551c"}}):l().createElement(U.GiCrabClaw,{className:"clawLike",size:40})),l().createElement("h6",{style:{textAlign:"center"}},u>1e3?u/1e3+"k":u)),l().createElement("div",{className:"col-lg-1"},l().createElement("button",{className:"btn",onClick:()=>{m({method:"Dislike",_id:o})},disabled:i},n.dislikes.includes(o)?l().createElement(U.GiCrabClaw,{className:"clawDislike",size:40,style:{color:"#fb551c"}}):l().createElement(U.GiCrabClaw,{className:"clawDislike",size:40})),l().createElement("h6",{style:{textAlign:"center"}},d>1e3?d/1e3+"k":d)),l().createElement("div",{className:"col-lg-1"},l().createElement("button",{className:"btn",onClick:()=>{c("/Comments",{state:{post:n}})}},l().createElement(_,{size:40})),l().createElement("h6",{style:{textAlign:"center"}},p>1e3?p/1e3+"k":p))))}function K(e){var t,a;let{state:n,addPost:s=(e=>e)}=e;const[r,c]=(0,B.useSessionStorage)("PostMessage",""),[o,i]=(0,B.useSessionStorage)("PostImage",null),[m,u]=(0,B.useSessionStorage)("PostAdd",!1),d=()=>{u(!1),i(null),c("")},p=null!==(t=null===(a=n.account)||void 0===a?void 0:a._id)&&void 0!==t?t:null;return l().createElement("div",{style:{zIndex:9999},className:"banner"},null!==p&&l().createElement("form",{style:{marginBlock:"10px"},className:"row rounded add ".concat(m?"p-3":""),onSubmit:e=>{e.preventDefault(),null===o&&""===r||s({image:o,message:r}),d()}},!m&&l().createElement("button",{className:"btn btn-success banner",onClick:()=>(window.scrollTo({top:0,behavior:"smooth"}),void u(!0))},"Add Post"),m&&l().createElement("div",null,l().createElement("div",{className:"col-lg-2 mx-auto"},l().createElement("h1",null,"Ad")),l().createElement("div",{className:"p-3"},l().createElement("label",{className:"form-label"},"Capiton"),l().createElement("input",{className:"form-control",type:"paragraph",value:r,onInput:e=>c(e.target.value)})),l().createElement("div",null,l().createElement("input",{type:"file",accept:"image/*",className:"form-control",onInput:e=>i(e.target.files[0])})),l().createElement("table",{style:{width:"100%"}},l().createElement("tr",null,l().createElement("th",null,l().createElement("button",{type:"submit",style:{marginTop:"10px"},className:"btn btn-success col"},"Sumbit Post")),l().createElement("th",{style:{textAlign:"right"}},l().createElement("button",{style:{marginTop:"10px"},className:"btn btn-success col",onClick:()=>{d()}},"Nevermind")))))))}const F=require("react-icons/io5");function J(e){let{loggedIn:t=!1,setState:a=(e=>e)}=e;const n=(0,D.useNavigate)();return l().createElement("button",{className:"btn",onClick:()=>(t&&a({}),void n("/"))},t&&l().createElement("div",null,l().createElement(F.IoLogOut,{size:40}),l().createElement("p",null,"Logoute")),!t&&l().createElement("div",null,l().createElement(F.IoLogIn,{size:40}),l().createElement("p",null,"Login")))}function V(e){var t,a,s,r;let{state:c,setState:o,account:i}=e;const[m,u]=(0,B.useSessionStorage)("Posts",[]),[d,p]=(0,B.useSessionStorage)("Filter",{status:"Dates"}),[E,g]=(0,B.useSessionStorage)("Render",!1),v=(0,D.useNavigate)();return(0,n.useEffect)((()=>((async()=>{const e=await fetch("".concat(L,"/api/posts/").concat(i?c.account._id:"null"));if(e.ok){const t=await e.json(),a=await Promise.all(t.map(((e,t)=>(async(e,t)=>{const a=await fetch("".concat(L,"/api/account/").concat(e.user));if(a.ok){const t=await a.json();return{...e,...t}}return e})(e))));switch(d.status){case"Likes":u(a.sort(((e,t)=>t.likes.length-e.likes.length)));break;case"Dislikes":u(a.sort(((e,t)=>t.dislikes.length-e.dislikes.length)));break;case"Comments":u(a.sort(((e,t)=>t.comments.length-e.comments.length)));break;case"Dates":u(a.sort(((e,t)=>new Date(t.date)-new Date(e.date))));break;default:u(a)}}})(),()=>{g(!1)})),[d,E]),l().createElement("div",null,!i&&l().createElement("div",null,l().createElement("table",{style:{width:"100%"}},l().createElement("tr",null,l().createElement("th",{style:{textAlign:"center"}}),l().createElement("th",{style:{textAlign:"right"}},null!==(null!==(t=null===(a=c.account)||void 0===a?void 0:a._id)&&void 0!==t?t:null)&&l().createElement("button",{className:"btn",onClick:()=>v("/Account")},l().createElement(O.MdAccountCircle,{size:40}),l().createElement("p",null,"Accoutn")),null===(null!==(s=null===(r=c.account)||void 0===r?void 0:r._id)&&void 0!==s?s:null)&&l().createElement(J,{setState:o})))),l().createElement("div",{className:"row"},l().createElement("h1",{className:"col-lg-3 mx-auto m-3"},"Lobter Biskueue"))),l().createElement(P,{filter:d,setFilter:p}),l().createElement("div",{className:"row"},l().createElement("div",{style:{backgroundColor:"grey"},className:"col-lg-6 mx-auto p-3 rounded"},l().createElement("h1",{style:{textAlign:"center"}},"Post's"),l().createElement(K,{state:c,addPost:e=>{var t,a;let n={user:c.account._id,image:null,caption:e.message};const l=async()=>{await fetch("".concat(L,"/api/posts/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),g(!0)};if(null!==(t=null===(a=e.image)||void 0===a?void 0:a.name)&&void 0!==t&&t){const t=new FileReader;t.onloadend=()=>{n.image=t.result,l()},t.readAsDataURL(e.image)}else l()}}),m.map(((e,t)=>l().createElement(G,{key:t,post:e,state:c,setRender:g}))))))}function Y(e){let{comment:t,setComments:a=(e=>e)}=e;return l().createElement("div",{style:{marginBottom:"10px"},className:"contrast rounded p-3"},l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-1 p-3"},l().createElement("img",{className:"rounded",style:{width:"50px",height:"50px"},src:t.profile,alt:""})),l().createElement("h4",{style:{display:"flex",justifyContent:"left",alignItems:"center"},className:"col-lg-5"},t.name)),l().createElement("p",null,t.content))}function H(e){let{state:t,postId:a,setRender:s=(e=>e)}=e;const[r,c]=(0,B.useSessionStorage)("CommentAdd",!1),[o,i]=(0,B.useSessionStorage)("CommentMessage","");return(0,n.useEffect)((()=>{window.scrollTo({top:0,behavior:"instant"})}),[]),l().createElement("div",{className:"banner col-10 mx-auto"},null!==t.account.id&&l().createElement("form",{className:"row rounded add ".concat(r?"p-3":""),style:{marginBlock:"10px"},onSubmit:e=>{e.preventDefault(),(async()=>{""!==o&&(i(""),c(!1),await fetch("".concat(L,"/api/comments/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:a,user:t.account._id,content:o})}),s(!0))})()}},!r&&l().createElement("button",{className:"btn btn-success",onClick:()=>c(!0)},"Add Commetn"),r&&l().createElement("div",null,l().createElement("div",{className:"col-lg-2 mx-auto"},l().createElement("h1",null,"Ad")),l().createElement("div",{className:"p-3"},l().createElement("label",{className:"form-label"},"Commetn"),l().createElement("input",{type:"paragraph",className:"form-control",value:o,onInput:e=>i(e.target.value)})),l().createElement("table",{style:{width:"100%"}},l().createElement("tr",null,l().createElement("th",null,l().createElement("button",{type:"submit",className:"btn btn-success"},"Sumbit")),l().createElement("th",{style:{textAlign:"right"}},l().createElement("button",{className:"btn btn-success",onClick:()=>{c(!1),i("")}},"Nevermind")))))))}const W=require("react-icons/bs");function X(e){let{state:t}=e;const a=(0,I.useLocation)(),{post:s}=a.state,[r,c]=(0,B.useSessionStorage)("Comments",[]),[o,i]=(0,n.useState)(!1),m=(0,I.useNavigate)();return(0,n.useEffect)((()=>((async()=>{const e=await fetch("".concat(L,"/api/comments/").concat(s._id)),t=await e.json();c(t.sort(((e,t)=>new Date(e.date)-new Date(t.date))))})(),()=>{i(!1)})),[o]),l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-6 mx-auto p-3"},l().createElement("button",{className:"btn",onClick:()=>m(-1)},l().createElement(W.BsArrowLeftSquareFill,{size:40})),l().createElement("div",{style:{marginBottom:"10px"},className:"contrast rounded p-3"},l().createElement(T,{post:s})),l().createElement("div",{style:{backgroundColor:"grey"},className:"rounded"},l().createElement("h1",{style:{textAlign:"center"}},"Commetn's"),l().createElement(H,{state:t,postId:s._id,setRender:i}),r.map(((e,t)=>l().createElement(Y,{key:t,comment:e,setComments:c}))))))}function Z(e){var t,a;let{state:n,setState:s}=e;const r=(0,D.useNavigate)();return l().createElement("div",null,l().createElement("table",{style:{width:"100%"}},l().createElement("tr",null,l().createElement("th",null,l().createElement("button",{className:"btn",onClick:()=>r(-1)},l().createElement(W.BsArrowLeftSquareFill,{size:40}),l().createElement("p",null,"Back"))),l().createElement("th",{style:{textAlign:"right"}},l().createElement("button",{className:"btn"},l().createElement(W.BsGearFill,{size:40,onClick:()=>{r("/Settings")}}),l().createElement("p",null,"Settin's")),l().createElement(J,{loggedIn:null!==(null!==(t=null===(a=n.account)||void 0===a?void 0:a._id)&&void 0!==t?t:null),setState:s})))),l().createElement("div",{className:"row"},l().createElement("div",{style:{textAlign:"center"},className:"col-lg-4 mx-auto"},l().createElement("img",{className:"rounded",width:300,height:300,src:n.account.profile}),l().createElement("h1",null,n.account.name),l().createElement("p",null,n.account.bio)),l().createElement(V,{state:n,account:!0})))}require("axios");const Q=require("react-icons/io");function $(e){let{state:t,setState:a}=e;const s=(0,D.useNavigate)(),[r,c]=(0,n.useState)(t.account.bio),[o,i]=(0,n.useState)(t.account.name),[m,u]=(0,n.useState)(""),[d,p]=(0,n.useState)(t.account.profile),[E,g]=(0,n.useState)(null),[v,b]=(0,n.useState)("");return l().createElement("div",null,l().createElement("table",{width:"100%"},l().createElement("tr",null,l().createElement("th",null,l().createElement("button",{className:"btn",onClick:()=>s(-1)},l().createElement(W.BsArrowLeftSquareFill,{size:40}),l().createElement("p",null,"Accoutn"))))),l().createElement("div",{className:"row"},l().createElement("div",{style:{textAlign:"center"},className:"col-lg-4 mx-auto"},l().createElement("img",{className:"rounded",width:300,height:300,src:d}),l().createElement("h1",null,o),l().createElement("p",null,r))),l().createElement("div",{className:"row"},l().createElement("div",{className:"col-lg-6 mx-auto contrast rounded p-3"},l().createElement("h3",{style:{textAlign:"center"}},"Updat Accoutn"),l().createElement("form",{onSubmit:e=>{e.preventDefault(),(async()=>{const e=await fetch("".concat(L,"/api/account/update").concat(t.account._id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bio:r,name:o,password:m,profile:d})});if(e.ok){const n=await e.json();a({...{...t,account:n}}),s(-1)}})()}},l().createElement("div",{style:{textAlign:"right"}},l().createElement("button",{className:"btn"},l().createElement(Q.IoMdRefresh,{size:40,onClick:()=>(c(t.account.bio),i(t.account.name),u(""),p(t.account.profile),void g(null))}),l().createElement("p",null,"refersh"))),""!==v&&l().createElement("p",{className:"text-danger"},v),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Name"),l().createElement("input",{className:"form-control",value:o,onInput:e=>i(e.target.value)})),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Bio"),l().createElement("input",{className:"form-control",value:r,onInput:e=>c(e.target.value)})),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Profile"),l().createElement("input",{type:"file",accept:"image/*",className:"form-control",onInput:e=>(e=>{g(e);const t=new FileReader;t.onloadend=()=>{p(t.result)},t.readAsDataURL(e)})(e.target.files[0])})),l().createElement("div",null,l().createElement("label",{className:"form-label"},"Password"),l().createElement("input",{className:"form-control",value:m,onInput:e=>u(e.target.value)})),l().createElement("div",{className:"row p-3"},l().createElement("button",{type:"submit",className:"btn btn-success col-lg-10 mx-auto"},"Sumbit"))))))}function ee(e){let{}=e;const t=(0,D.useNavigate)();return l().createElement("div",null,l().createElement("button",{className:"btn",onClick:()=>t(-1)},l().createElement(W.BsArrowLeftSquareFill,{size:40}),l().createElement("p",null,"Back")),l().createElement("div",{style:{textAlign:"center"}},l().createElement("h1",null,"404"),l().createElement("h2",null,"- Not Found -")))}function te(){var e,t,a,n;const[s,r]=(0,B.useSessionStorage)("State",{});return l().createElement(l().Fragment,null,l().createElement(I.Routes,null,l().createElement(I.Route,{path:"/",element:l().createElement(M,{state:s,setState:r})}),l().createElement(I.Route,{path:"/Posts",element:l().createElement(V,{setState:r,state:s})}),l().createElement(I.Route,{path:"/Comments",element:l().createElement(X,{state:s})}),null!==(null!==(e=null===(t=s.account)||void 0===t?void 0:t._id)&&void 0!==e?e:null)&&l().createElement(I.Route,{path:"/Account",element:l().createElement(Z,{state:s,setState:r})}),null!==(null!==(a=null===(n=s.account)||void 0===n?void 0:n._id)&&void 0!==a?a:null)&&l().createElement(I.Route,{path:"/Settings",element:l().createElement($,{state:s,setState:r})}),l().createElement(I.Route,{path:"/*",element:l().createElement(ee,null)})))}const ae=a()();ae.use(q().json({limit:"100mb"})),ae.use(q().urlencoded({extended:!0,limit:"100mb"})),ae.use(R()()),ae.use(a().json({limit:"100mb"})),ae.use(a().urlencoded({limit:"100mb"})),ae.use("/api/posts",y),ae.use("/api/account",A),ae.use("/api/comments",C),ae.use(a().static(u().join(__dirname,"../build"))),ae.get("/*",((e,t)=>{const a=u().join(__dirname,"../build","index.html"),n=r().renderToString(l().createElement(c.StaticRouter,{location:e.url,context:{}},l().createElement(te,null)));i().readFile(a,"utf8",((e,a)=>e?(console.log(e),t.status(500)):t.send(a.replace('<div id="root"></div>','<div id="root">'.concat(n,"</div>")))))})),(async()=>{await p().connect(process.env.ATLAS_URI)})();const ne=ae,le=require("http");var se=e.n(le),re=function(e){var t=parseInt(e,10);return isNaN(t)?e:t>=0&&t}(process.env.PORT||"3000");ne.set("port",re);var ce=se().createServer(ne);ce.listen(re),ce.on("error",(function(e){if("listen"!==e.syscall)throw e;var t="string"==typeof re?"Pipe "+re:"Port "+re;switch(e.code){case"EACCES":console.error(t+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(t+" is already in use"),process.exit(1);break;default:throw e}})),ce.on("listening",(function(){var e=ce.address();"string"==typeof e||e.port}))})();