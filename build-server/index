/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};

// UNUSED EXPORTS: default

;// CONCATENATED MODULE: external "express"
const external_express_namespaceObject = require("express");
var external_express_default = /*#__PURE__*/__webpack_require__.n(external_express_namespaceObject);
;// CONCATENATED MODULE: external "react"
const external_react_namespaceObject = require("react");
var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_namespaceObject);
;// CONCATENATED MODULE: external "react-dom/server"
const server_namespaceObject = require("react-dom/server");
var server_default = /*#__PURE__*/__webpack_require__.n(server_namespaceObject);
;// CONCATENATED MODULE: external "react-router-dom/server.js"
const server_js_namespaceObject = require("react-router-dom/server.js");
;// CONCATENATED MODULE: external "fs"
const external_fs_namespaceObject = require("fs");
var external_fs_default = /*#__PURE__*/__webpack_require__.n(external_fs_namespaceObject);
;// CONCATENATED MODULE: external "path"
const external_path_namespaceObject = require("path");
var external_path_default = /*#__PURE__*/__webpack_require__.n(external_path_namespaceObject);
;// CONCATENATED MODULE: external "mongoose"
const external_mongoose_namespaceObject = require("mongoose");
var external_mongoose_default = /*#__PURE__*/__webpack_require__.n(external_mongoose_namespaceObject);
;// CONCATENATED MODULE: external "dotenv"
const external_dotenv_namespaceObject = require("dotenv");
var external_dotenv_default = /*#__PURE__*/__webpack_require__.n(external_dotenv_namespaceObject);
;// CONCATENATED MODULE: ./server/loadEnvironment.js


external_dotenv_default().config({
  path: external_path_default().resolve("./server/.env")
});
;// CONCATENATED MODULE: external "mongodb"
const external_mongodb_namespaceObject = require("mongodb");
;// CONCATENATED MODULE: ./server/schemas/PostModel.js


const schema = new external_mongoose_namespaceObject.Schema({
  user: {
    type: external_mongodb_namespaceObject.ObjectId,
    required: true
  },
  image: {
    type: Buffer,
    default: null
  },
  caption: {
    type: String,
    default: null
  },
  likes: {
    type: [String],
    default: []
  },
  dislikes: {
    type: [String],
    default: []
  },
  comments: {
    type: [String],
    default: []
  },
  date: {
    type: Date,
    required: true
  }
});
/* harmony default export */ const PostModel = (external_mongoose_default().model('Post', schema));
;// CONCATENATED MODULE: ./server/routes/posts.js


const router = external_express_default().Router();
router.get('/:_id', async (req, res) => {
  let posts;
  if (req.params._id !== 'null') {
    posts = await PostModel.find({
      user: req.params._id
    });
  } else {
    posts = await PostModel.find({});
  }
  const result = posts.map(x => Object({
    ...x._doc,
    image: x._doc.image !== null ? 'data:image/png;base64,' + Buffer.from(x._doc.image, 'base64').toString('base64') : null
  }));
  res.status(200).json(result);
});
router.post('/', async (req, res) => {
  const post = await PostModel.create({
    user: req.body.user,
    caption: req.body.caption,
    image: req.body.image ? Buffer.from(req.body.image.split(',')[1], 'base64') : null,
    date: new Date()
  });
  res.status(200).json(post);
});
router.post('/update/:_id', async (req, res) => {
  const accountId = req.body._id;
  let target = await PostModel.findById(req.params._id);
  switch (req.body.method) {
    case 'Like':
      target.likes = target.likes.includes(accountId) ? target.likes.filter(x => x !== accountId) : [...target.likes, accountId];
      target.dislikes = target.dislikes.includes(accountId) ? target.dislikes.filter(x => x !== accountId) : target.dislikes;
      break;
    case 'Dislike':
      target.dislikes = target.dislikes.includes(accountId) ? target.dislikes.filter(x => x !== accountId) : [...target.dislikes, accountId];
      target.likes = target.likes.includes(accountId) ? target.likes.filter(x => x !== accountId) : target.likes;
      break;
    case 'Comment':
      break;
    default:
      res.status(400);
  }
  await target.save();
  res.status(200).json({});
});
/* harmony default export */ const posts = (router);
;// CONCATENATED MODULE: ./server/schemas/AccountModel.js

const defaultProfile = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLeqsbTn6eqpr7PJzc/j5ebf4eLZ3N2wtrnBxsjN0NLGysy6v8HT1tissra8wMNxTKO9AAAFDklEQVR4nO2d3XqDIAxAlfivoO//tEOZWzvbVTEpic252W3PF0gAIcsyRVEURVEURVEURVEURVEURVEURVEURVEURVEURflgAFL/AirAqzXO9R7XNBVcy9TbuMHmxjN6lr92cNVVLKEurVfK/zCORVvW8iUBnC02dj+Wpu0z0Y6QlaN5phcwZqjkOkK5HZyPAjkIjSO4fIdfcOwFKkJlX4zPu7Ha1tIcwR3wWxyFhRG6g4Je0YpSPDJCV8a2Sv2zd1O1x/2WMDZCwljH+clRrHfWCLGK8REMiql//2si5+DKWKcWeAGcFMzzNrXC/0TUwQ2s6+LhlcwjTMlYsUIQzPOCb7YBiyHopyLXIEKPEkI/TgeuiidK/R9FniUDOjRDpvm0RhqjMyyXNjDhCfIMYl1gGjIMIuYsnGEYRMRZOMMunaLVwpWRW008v6fYKDIzxCwVAeNSO90BJW6emelYBRF/kHpYGVaoxTDAaxOFsfP9y8hpJ4xd7gOcij7JNGQ1EYFgkPJa1jQEiYZXRaRINKxSDUW9n+FT82lSKadkiru9/4XPqSLWOekGPoY05TAvLm9orm+YWuwHoBHkZKijNBJGmeb61eL6Ff/6q7bLr7yvv3vKGhpDRjvgjGaPz+gUg6YgcvpyAR2FIZ9U6nEEyZRTovmEU32KichpGn7C17XrfyH9gK/c0CMP05HZIM2uf9sEveizKveBy9/6Qt7o89ne33D525cfcIMW6ab+TMEukQbQbu+xu7X3A9bChmWaCeAkG17bpntwXgWxHaMzGPmUaR5dQZiKqRVeUZ3047fi3nAu28h4CHxCsZAgmEH8Y27jJAhm8c+5RQzRQNVGhVFSfxOYIjp/pP7RxzjevYXVGf4eLt+BJ1vCuLuLkrgABgCGXZ2wik5uty+oBvNirI6mkzhAf4Gsb58Hcm67Jzd+KwD10BYPLL3e0MjvKrgAULnOfveF/O4N2Xb9BZom3gJes3F9X5Zze8/6Yt09b4CrqsEjUv8oFBaR2rl+6CZr2xVrp24o/WitBKuGrrpl1+bFkmK2qXTON4VpbdfLa7o7y/WdLxG7lm2Lqh2clOwTegbvc/vj2U78CwhA87Bn8G5Nk3eOb0Nsr9flz3sG78UUtue4kpv1xvjg3TMay62BMlTlP+vrOMnJsRmt/ze0jsfkPPYdAH57hK+34PeOyc8XIXu5xT2HsUkdZz+adwg8HGFfQ3K5jtDvbUiO4Di9/ywHGrL88pDizZ++oTp+an+SMX/ndymUCwmHMdO7yuOx83pUx/eEMU0AvxWndwgidAqOZ8ypCwdEfvvEo6D9HwpA8wzvmOJEqAg9ySu8g4x0Hb9hSB/BANEKJ+LbPBU0lzbAJs4xt1AoshKkUGQmiH8/jJ0gdhTTLmSegHlPE0oOdXALnqDjKYh3px//fSgSWG8UqfrrIICzYYSJXRr9BSPbpNzw7gBjKjKOYI7ReIGqQRIap5+5MdjyvuDkExvGeXSlONWZAP3/AZBwJohU7QJRGU+cTVH18ELmRPNBmibW6MT/k1b0XhdkRBvyT6SB6EYv/GvhSmRNpGngRULsAlxMCGNXp7w3FfdEbTEEDdLI9TdIKRUzUesa3I461ER8cpNT7gMRhpKmYVS9ELOgCUQsa4SsulciKiLbY+AnHD8cpuhISsnxpamI84sbDq9qYJgf8wiiOBrC7Ml7M7ZECCqKoiiKoiiKoiiKoijv5AvJxlZRyNWWLwAAAABJRU5ErkJggg==';
const AccountModel_schema = new external_mongoose_namespaceObject.Schema({
  name: {
    type: String,
    required: true
  },
  username: {
    type: String,
    required: true,
    unique: true
  },
  password: {
    type: String,
    required: true
  },
  profile: {
    type: Buffer,
    required: false,
    default: Buffer.from(defaultProfile.split(',')[1], 'base64')
  },
  bio: {
    type: String,
    required: false,
    default: 'Edit account to update bio!'
  }
});
/* harmony default export */ const AccountModel = (external_mongoose_namespaceObject.mongoose.model('Account', AccountModel_schema));
;// CONCATENATED MODULE: ./server/schemas/CommentModel.js

const CommentShema = new external_mongoose_namespaceObject.Schema({
  post: {
    type: String,
    required: true
  },
  user: {
    type: String,
    required: true
  },
  content: {
    type: String,
    required: true
  },
  date: {
    type: Date,
    required: true
  }
});
/* harmony default export */ const CommentModel = (external_mongoose_default().model('Comment', CommentShema));
;// CONCATENATED MODULE: ./server/routes/account.js




const account_router = external_express_default().Router();
account_router.post('/login', async (req, res) => {
  const target = await AccountModel.findOne({
    username: req.body.username,
    password: req.body.password
  });
  if (!target) {
    res.status(400).json({
      error: 'Invalid username or password'
    });
  } else {
    const {
      password,
      ...account
    } = target._doc;
    const result = {
      ...account,
      profile: 'data:image/png;base64,' + Buffer.from(account.profile, 'base64').toString('base64')
    };
    res.status(200).json({
      account: result
    });
  }
});
account_router.post('/signUp', async (req, res) => {
  try {
    const account = await AccountModel.create({
      name: req.body.name,
      username: req.body.username,
      password: req.body.password
    });
    const {
      password,
      ...result
    } = account._doc;
    res.status(200).json({
      account: result
    });
  } catch (e) {
    res.status(400).json({
      error: 'Username already taken'
    });
  }
});
account_router.get('/:_id', async (req, res) => {
  try {
    const account = await AccountModel.findOne({
      _id: req.params._id
    });
    const response = {
      name: account.name,
      profile: 'data:image/png;base64,' + Buffer.from(account.profile, 'base64').toString('base64')
    };
    res.status(200).json(response);
  } catch (e) {
    res.status(404).json({
      error: 'error getting account by id'
    });
  }
});
account_router.post('/update:_id', async (req, res) => {
  let account = await AccountModel.findById(req.params._id);
  account.profile = Buffer.from(req.body.profile.split(',')[1], 'base64');
  account.name = req.body.name !== '' ? req.body.name : account.name;
  account.bio = req.body.bio;
  account.password = req.body.password !== '' ? req.body.password : account.password;
  const savedAccout = await account.save();
  const {
    password,
    ...returnAccount
  } = savedAccout._doc;
  const result = {
    ...returnAccount,
    profile: 'data:image/png;base64,' + Buffer.from(account.profile, 'base64').toString('base64')
  };
  res.status(200).json(result);
});
/* harmony default export */ const account = (account_router);
;// CONCATENATED MODULE: ./server/routes/comments.js




const comments_router = external_express_default().Router();
comments_router.get('/:_id', async (req, res) => {
  const comments = await CommentModel.find({
    post: req.params._id
  });
  const supplementComment = async comment => {
    const result = await AccountModel.findById(comment.user);
    const {
      password,
      _id,
      ...account
    } = result._doc;
    return {
      ...comment._doc,
      ...{
        ...account,
        profile: 'data:image/png;base64,' + Buffer.from(account.profile, 'base64').toString('base64')
      }
    };
  };
  const result = await Promise.all(comments.map(x => supplementComment(x)));
  res.status(200).json(result);
});
comments_router.post('/', async (req, res) => {
  try {
    const comment = await CommentModel.create({
      post: req.body.post,
      user: req.body.user,
      content: req.body.content,
      date: new Date()
    });
    let post = await PostModel.findById(req.body.post);
    post.comments = [comment._id, ...post.comments];
    const updatedPost = await post.save();
    res.status(200).json(comment);
  } catch (e) {
    console.log(e);
    res.status(400).json({});
  }
});
/* harmony default export */ const comments = (comments_router);
;// CONCATENATED MODULE: external "cors"
const external_cors_namespaceObject = require("cors");
var external_cors_default = /*#__PURE__*/__webpack_require__.n(external_cors_namespaceObject);
;// CONCATENATED MODULE: external "body-parser"
const external_body_parser_namespaceObject = require("body-parser");
var external_body_parser_default = /*#__PURE__*/__webpack_require__.n(external_body_parser_namespaceObject);
;// CONCATENATED MODULE: external "react-router-dom"
const external_react_router_dom_namespaceObject = require("react-router-dom");
;// CONCATENATED MODULE: external "react-storage-complete"
const external_react_storage_complete_namespaceObject = require("react-storage-complete");
;// CONCATENATED MODULE: ./src/helpers/ApiUrl.js
const ApiUrl =  false ? 0 : "";
/* harmony default export */ const helpers_ApiUrl = (ApiUrl);
;// CONCATENATED MODULE: ./src/components/Login.js





function Login(_ref) {
  let {
    state,
    setState = f => f
  } = _ref;
  const navigate = (0,external_react_router_dom_namespaceObject.useNavigate)();

  // form fields
  const [username, setUsername] = (0,external_react_namespaceObject.useState)('');
  const [password, setPassword] = (0,external_react_namespaceObject.useState)('');
  const [name, setName] = (0,external_react_namespaceObject.useState)('');

  //
  const [signUp, setSignUp] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('signUp', false);
  const [valid, setValid] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('valid', true);
  const [invalidMessage, setInvalidMessage] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('invalidMessage', '');
  const redirect = () => {
    clearFields();
    setSignUp(signUp ? false : true);
    setValid(true);
  };
  const clearFields = () => {
    setUsername('');
    setPassword('');
    setName('');
  };
  const resetPage = () => {
    clearFields();
    setSignUp(false);
    setValid(true);
  };
  const login = async function () {
    let anonymous = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    if (anonymous) {
      setState({
        account: {
          id: null
        }
      });
      resetPage();
      return navigate('/Posts');
    }
    const options = {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        username: username,
        password: password,
        name: name
      })
    };
    clearFields();
    const response = await fetch("".concat(helpers_ApiUrl, "/api/account/").concat(signUp ? 'signUp' : 'login'), options);
    const data = await response.json();
    if (response.ok) {
      setState(data);
      resetPage();
      navigate('/Posts');
    } else {
      setInvalidMessage(data.error);
      setValid(false);
    }
  };
  return /*#__PURE__*/external_react_default().createElement("div", {
    className: "row p-3"
  }, /*#__PURE__*/external_react_default().createElement("form", {
    className: "col-lg-6 rounded p-3 mx-auto contrast",
    onSubmit: e => {
      e.preventDefault();
      login();
    }
  }, /*#__PURE__*/external_react_default().createElement("h1", {
    style: {
      textAlign: 'center'
    }
  }, signUp ? 'Sign Up' : 'Login'), !valid && /*#__PURE__*/external_react_default().createElement("p", {
    className: "text-danger"
  }, invalidMessage), signUp && /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-lable"
  }, "Full Name"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    type: "name",
    required: true,
    value: name,
    onInput: e => setName(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Username"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    type: "username",
    required: true,
    value: username,
    onInput: e => setUsername(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Password"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    type: "password",
    required: true,
    value: password,
    onInput: e => setPassword(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row p-3"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    type: "submit",
    className: "col-lg-6 mx-auto btn btn-success"
  }, signUp ? 'Sign Up' : 'Sign In')), /*#__PURE__*/external_react_default().createElement("table", {
    style: {
      width: '100%'
    }
  }, /*#__PURE__*/external_react_default().createElement("tr", null, /*#__PURE__*/external_react_default().createElement("th", null, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btnLink contrast",
    onClick: () => redirect()
  }, signUp ? 'Already have an account?' : "Don't have an account?")), /*#__PURE__*/external_react_default().createElement("th", {
    style: {
      textAlign: 'right'
    }
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btnLink contrast",
    onClick: () => login(true)
  }, "Browse Anonymously"))))));
}
;// CONCATENATED MODULE: external "react-icons/md"
const md_namespaceObject = require("react-icons/md");
;// CONCATENATED MODULE: external "react-router"
const external_react_router_namespaceObject = require("react-router");
;// CONCATENATED MODULE: ./src/components/Menu.js


function Menu(_ref) {
  let {
    filter,
    setFilter = f => f
  } = _ref;
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  return /*#__PURE__*/external_react_default().createElement("div", {
    className: "row p-4"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-6 mx-auto rounded p-3 contrast"
  }, /*#__PURE__*/external_react_default().createElement("h1", {
    style: {
      textAlign: 'center'
    }
  }, "Fitler"), /*#__PURE__*/external_react_default().createElement("form", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col"
  }, /*#__PURE__*/external_react_default().createElement("input", {
    type: "radio",
    checked: filter.status === 'Dates',
    onChange: () => setFilter({
      status: 'Dates'
    })
  }), /*#__PURE__*/external_react_default().createElement("label", null, "Daets")), /*#__PURE__*/external_react_default().createElement("div", {
    className: "col"
  }, /*#__PURE__*/external_react_default().createElement("input", {
    type: "radio",
    checked: filter.status === 'Likes',
    onChange: () => setFilter({
      status: 'Likes'
    })
  }), /*#__PURE__*/external_react_default().createElement("label", null, "Lieks")), /*#__PURE__*/external_react_default().createElement("div", {
    className: "col"
  }, /*#__PURE__*/external_react_default().createElement("input", {
    type: "radio",
    checked: filter.status === 'Dislikes',
    onChange: () => setFilter({
      status: 'Dislikes'
    })
  }), /*#__PURE__*/external_react_default().createElement("label", null, "Dislieks")), /*#__PURE__*/external_react_default().createElement("div", {
    className: "col"
  }, /*#__PURE__*/external_react_default().createElement("input", {
    type: "radio",
    checked: filter.status === 'Comments',
    onChange: () => setFilter({
      status: 'Comments'
    })
  }), /*#__PURE__*/external_react_default().createElement("label", null, "Commetns")))));
}
;// CONCATENATED MODULE: external "react-icons/gi"
const gi_namespaceObject = require("react-icons/gi");
;// CONCATENATED MODULE: ./src/misc/CrabMessage.js

function CrabMessage(_ref) {
  var _style$width, _style$height;
  let {
    className,
    size = 30,
    style = {}
  } = _ref;
  style.width = (_style$width = style.width) !== null && _style$width !== void 0 ? _style$width : size;
  style.height = (_style$height = style.height) !== null && _style$height !== void 0 ? _style$height : size;
  return /*#__PURE__*/external_react_default().createElement("svg", {
    className: className,
    style: style,
    version: "1.0",
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 300.000000 264.000000",
    preserveAspectRatio: "xMidYMid meet"
  }, /*#__PURE__*/external_react_default().createElement("g", {
    transform: "translate(0.000000,264.000000) scale(0.100000,-0.100000)",
    fill: "#000000",
    stroke: "black",
    strokeWidth: "50"
  }, /*#__PURE__*/external_react_default().createElement("path", {
    d: "M600 2565 c-77 -21 -166 -67 -223 -114 -119 -99 -175 -207 -202 -387\r -8 -49 -7 -50 101 -59 l79 -7 39 37 c40 36 40 43 1 59 -6 2 -4 13 4 27 8 13\r 17 40 20 59 5 29 16 42 64 73 46 31 57 44 57 65 0 41 52 96 122 131 53 27 72\r 31 144 31 85 0 100 6 89 39 -16 51 -181 77 -295 46z m203 -28 c41 -14 33 -22\r -25 -25 -63 -3 -128 -19 -128 -32 0 -6 -6 -10 -13 -10 -24 0 -95 -69 -117\r -114 -11 -25 -44 -64 -73 -89 -43 -37 -54 -53 -66 -98 -7 -30 -13 -65 -13 -79\r 0 -39 -16 -50 -73 -50 -70 0 -85 7 -85 39 1 95 64 225 154 313 124 123 317\r 186 439 145z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M2155 2568 c-36 -13 -75 -46 -75 -65 0 -16 25 -21 120 -26 88 -3 135\r -23 197 -82 33 -32 43 -49 43 -74 0 -25 6 -35 31 -49 58 -31 89 -63 89 -89 0\r -14 8 -38 17 -54 18 -30 14 -39 -21 -52 -5 -2 8 -20 30 -41 l39 -38 79 7 c110\r 9 109 8 101 69 -27 212 -141 371 -328 455 -106 48 -247 65 -322 39z m210 -33\r c192 -50 336 -185 390 -367 20 -67 20 -114 -1 -122 -9 -3 -39 -6 -69 -6 -56 0\r -82 17 -71 45 3 9 -1 35 -9 58 -8 23 -15 50 -15 59 0 9 -25 38 -55 64 -31 26\r -63 65 -74 88 -36 79 -132 146 -225 155 -33 3 -61 11 -63 18 -8 24 109 29 192\r 8z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1021 2218 c-31 -74 -145 -164 -202 -160 -20 2 -40 -12 -85 -58 -48\r -50 -64 -60 -92 -60 -37 0 -63 12 -105 46 -16 13 -33 24 -38 24 -5 0 -30 -19\r -54 -41 l-45 -42 -121 7 -120 7 -14 -33 c-21 -51 -55 -242 -55 -306 1 -63 19\r -123 47 -154 10 -12 42 -37 72 -56 48 -31 59 -34 103 -29 63 8 141 50 185 102\r 20 22 51 74 70 115 52 112 72 134 171 181 48 22 104 55 125 71 100 80 223 322\r 203 402 -9 38 -24 32 -45 -16z m-35 -160 c-33 -72 -103 -167 -152 -204 -21\r -17 -70 -45 -109 -63 -88 -41 -139 -95 -192 -203 -103 -208 -277 -253 -380\r -97 -20 31 -27 54 -28 99 -3 66 29 250 50 290 13 25 15 26 92 19 43 -4 87 -5\r 97 -3 43 8 85 26 101 44 23 25 42 25 80 0 42 -28 98 -42 127 -31 12 5 46 31\r 74 57 38 37 66 54 112 68 34 10 62 21 62 25 0 3 18 17 40 31 22 14 40 29 41\r 35 0 5 3 5 5 -1 3 -6 -6 -36 -20 -66z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1916 2244 c-3 -9 -6 -24 -6 -34 0 -36 49 -162 90 -230 61 -103 122\r -160 234 -214 108 -53 128 -74 179 -187 57 -124 151 -203 257 -216 43 -5 55\r -2 98 25 93 60 122 112 122 218 0 71 -32 245 -55 301 l-14 34 -118 -7 -119 -7\r -47 42 c-27 22 -52 41 -57 41 -4 0 -27 -16 -50 -35 -33 -28 -51 -35 -84 -35\r -38 0 -47 5 -100 61 -44 47 -62 60 -78 56 -51 -14 -190 97 -208 164 -11 40\r -33 51 -44 23z m118 -166 c26 -24 101 -58 127 -58 12 0 42 -20 67 -46 52 -52\r 67 -61 108 -68 27 -4 43 2 122 46 30 18 31 18 60 -11 37 -38 92 -52 167 -43\r 98 11 108 10 122 -19 7 -15 22 -75 34 -135 34 -173 15 -254 -72 -314 -113 -77\r -236 -14 -326 165 -57 115 -89 148 -193 199 -82 40 -150 95 -195 159 -36 51\r -75 129 -75 150 0 21 5 18 54 -25z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1170 1700 c-12 -12 -20 -33 -20 -55 l0 -35 -90 0 c-66 0 -104 -5\r -144 -21 -73 -27 -148 -96 -183 -167 l-28 -57 0 -355 0 -355 28 -56 c30 -63\r 93 -126 155 -158 52 -27 170 -45 249 -38 l62 5 3 -113 3 -112 194 110 195 109\r 167 -1 c256 -3 340 20 430 116 82 88 84 97 84 498 l0 350 -28 57 c-35 71 -110\r 140 -183 167 -40 16 -78 21 -144 21 l-90 0 0 35 c0 64 -65 97 -118 59 -16 -11\r -22 -25 -22 -55 l0 -39 -200 0 -200 0 0 38 c0 25 -7 45 -18 55 -25 23 -78 21\r -102 -3z m85 -54 c28 -66 28 -66 230 -66 101 0 191 3 200 6 9 4 25 27 36 51\r 15 36 23 44 41 41 14 -2 24 -11 26 -23 2 -11 11 -31 22 -45 16 -22 28 -25 113\r -31 141 -11 237 -65 290 -163 21 -39 22 -56 27 -370 3 -215 1 -344 -6 -375\r -22 -95 -67 -149 -164 -198 -54 -27 -60 -27 -275 -33 l-220 -5 -70 -41 c-107\r -64 -257 -145 -261 -141 -1 1 -4 35 -7 76 -5 100 -18 111 -136 111 -169 0\r -280 56 -334 170 l-27 55 3 355 c2 352 2 355 25 395 61 103 151 154 290 163\r 75 4 89 8 109 30 13 14 23 33 23 43 0 17 13 27 38 28 7 1 19 -14 27 -33z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1035 1097 c-46 -26 -65 -57 -65 -110 0 -63 62 -127 123 -127 34 0\r 89 32 108 64 65 107 -57 235 -166 173z m106 -27 c10 -6 26 -24 35 -41 32 -62\r -13 -129 -86 -129 -30 0 -44 6 -64 31 -35 41 -34 83 3 120 31 31 75 38 112 19z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1441 1102 c-48 -23 -64 -48 -69 -107 -4 -53 -3 -57 31 -89 39 -37\r 91 -52 128 -37 112 46 118 189 9 235 -42 17 -60 17 -99 -2z m100 -32 c10 -6\r 26 -24 35 -41 32 -62 -13 -129 -86 -129 -30 0 -44 6 -64 31 -35 41 -34 83 3\r 120 31 31 75 38 112 19z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M1834 1094 c-53 -36 -63 -52 -64 -99 0 -46 28 -98 62 -116 33 -18 99\r -15 130 5 30 19 58 72 58 108 0 58 -69 128 -126 128 -12 0 -39 -12 -60 -26z\r m123 -38 c39 -34 39 -98 0 -132 -42 -36 -98 -33 -131 7 -35 41 -34 83 3 120\r 38 37 88 39 128 5z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M553 1425 c-28 -42 -116 -113 -151 -121 -15 -4 -31 -9 -35 -11 -4 -3\r 48 -38 115 -78 l123 -73 6 122 c3 67 11 131 18 144 14 26 15 25 -16 41 -31 16\r -36 14 -60 -24z m29 -117 c-4 -87 -11 -106 -34 -92 -7 5 -15 9 -18 9 -13 1\r -70 40 -74 51 -2 6 22 33 55 60 32 27 59 53 59 57 0 5 4 6 8 3 5 -3 7 -42 4\r -88z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M2364 1448 c-20 -9 -21 -12 -8 -56 8 -26 14 -90 14 -149 0 -56 2\r -103 4 -103 2 0 55 32 117 70 62 39 116 70 121 70 18 0 -3 18 -28 24 -42 11\r -111 63 -147 111 -34 47 -40 50 -73 33z m79 -87 c23 -22 53 -48 67 -59 l25\r -20 -25 -21 c-14 -11 -31 -20 -37 -21 -7 0 -13 -5 -13 -12 0 -6 -3 -8 -7 -5\r -3 4 -12 2 -20 -5 -8 -7 -17 -7 -23 -2 -7 8 -19 184 -12 184 2 0 22 -18 45\r -39z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M556 758 c-54 -15 -110 -74 -124 -131 -21 -83 -10 -222 18 -222 10 0\r 17 16 22 53 14 96 70 172 126 172 22 0 24 3 18 31 -3 17 -6 49 -6 70 0 22 -3\r 39 -7 38 -5 -1 -25 -6 -47 -11z m24 -58 c0 -19 -14 -36 -57 -71 -11 -9 -27\r -27 -36 -39 -21 -31 -31 -20 -23 24 13 68 116 144 116 86z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M2370 723 c0 -27 -3 -58 -6 -70 -5 -20 -2 -23 19 -23 59 0 121 -91\r 129 -190 4 -41 29 -48 39 -10 11 39 10 161 -2 203 -15 54 -62 103 -116 121\r -26 9 -50 16 -55 16 -4 0 -8 -21 -8 -47z m94 -24 c31 -24 46 -51 57 -96 9 -41\r -1 -42 -29 -3 -12 16 -35 36 -51 44 -28 15 -42 40 -34 64 7 18 27 15 57 -9z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M623 517 c-69 -72 -81 -154 -35 -248 32 -65 88 -127 102 -113 8 8 6\r 27 -9 72 -12 34 -21 75 -21 93 0 39 26 95 53 114 l21 15 -25 27 c-14 16 -33\r 38 -41 50 l-15 23 -30 -33z m47 -47 c9 -16 7 -26 -8 -48 -22 -30 -41 -91 -35\r -109 2 -6 0 -14 -5 -17 -14 -8 -34 81 -27 115 6 25 46 79 59 79 3 0 10 -9 16\r -20z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M2286 484 l-38 -45 26 -24 c51 -47 59 -110 26 -202 -24 -68 -24 -73\r -6 -73 20 0 80 76 105 131 25 53 27 129 5 172 -16 32 -63 87 -73 87 -3 -1 -23\r -21 -45 -46z m81 -41 c18 -28 27 -111 13 -128 -5 -5 -8 -14 -8 -20 0 -5 -5\r -11 -11 -13 -7 -2 -11 11 -11 32 0 20 -11 58 -24 85 -19 36 -22 51 -13 60 18\r 18 35 13 54 -16z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M781 358 c-17 -48 -13 -88 13 -143 29 -62 121 -154 137 -138 8 8 3\r 25 -15 62 -35 68 -43 130 -23 170 12 24 12 31 3 31 -7 0 -34 11 -59 24 l-46\r 25 -10 -31z m67 -91 c2 -36 -1 -57 -8 -57 -15 0 -30 44 -30 86 0 28 4 35 18\r 32 13 -2 18 -15 20 -61z"
  }), /*#__PURE__*/external_react_default().createElement("path", {
    d: "M2133 361 c-44 -22 -51 -29 -45 -46 16 -44 7 -119 -21 -174 -49 -96\r 1 -86 84 16 55 70 73 147 46 204 l-12 25 -52 -25z m40 -58 c6 -31 -16 -93 -32\r -93 -12 0 -15 102 -4 113 14 15 31 6 36 -20z"
  })));
}
;// CONCATENATED MODULE: ./src/components/PartialPost.js

function PartialPost(_ref) {
  let {
    post
  } = _ref;
  return /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-2 p-3"
  }, /*#__PURE__*/external_react_default().createElement("img", {
    className: "rounded",
    style: {
      width: '100px',
      height: '100px'
    },
    src: post.profile,
    alt: ""
  })), /*#__PURE__*/external_react_default().createElement("h2", {
    className: "col-lg-6",
    style: {
      marginLeft: 40,
      display: 'flex',
      alignItems: 'center'
    }
  }, post.name)), post.image !== null && /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-10 mx-auto"
  }, /*#__PURE__*/external_react_default().createElement("img", {
    className: "rounded",
    width: 600,
    height: 400,
    src: post.image
  }))), /*#__PURE__*/external_react_default().createElement("p", null, post.caption));
}
;// CONCATENATED MODULE: ./src/components/Post.js






function Post(_ref) {
  var _state$account$_id, _state$account;
  let {
    post,
    state,
    setRender = f => f
  } = _ref;
  const navigate = (0,external_react_router_dom_namespaceObject.useNavigate)();
  const id = (_state$account$_id = (_state$account = state.account) === null || _state$account === void 0 ? void 0 : _state$account._id) !== null && _state$account$_id !== void 0 ? _state$account$_id : null;
  const disabled = id === null;
  const updatePost = async body => {
    await fetch("".concat(helpers_ApiUrl, "/api/posts/update/").concat(post._id), {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(body)
    });
    setRender(true);
  };
  const onLike = () => {
    updatePost({
      method: 'Like',
      _id: id
    });
  };
  const onDislike = () => {
    updatePost({
      method: 'Dislike',
      _id: id
    });
  };
  const onComment = () => {
    navigate('/Comments', {
      state: {
        post: post
      }
    });
  };
  let numLikes = post.likes.length;
  let numDislikes = post.dislikes.length;
  let numComments = post.comments.length;
  return /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      marginBottom: '10px'
    },
    className: "contrast rounded p-3"
  }, /*#__PURE__*/external_react_default().createElement(PartialPost, {
    post: post
  }), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-1"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => onLike(),
    disabled: disabled
  }, post.likes.includes(id) ? /*#__PURE__*/external_react_default().createElement(gi_namespaceObject.GiCrabClaw, {
    className: "clawLike",
    size: 40,
    style: {
      color: '#fb551c'
    }
  }) : /*#__PURE__*/external_react_default().createElement(gi_namespaceObject.GiCrabClaw, {
    className: "clawLike",
    size: 40
  })), /*#__PURE__*/external_react_default().createElement("h6", {
    style: {
      textAlign: 'center'
    }
  }, numLikes > 1000 ? numLikes / 1000 + 'k' : numLikes)), /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-1"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => onDislike(),
    disabled: disabled
  }, post.dislikes.includes(id) ? /*#__PURE__*/external_react_default().createElement(gi_namespaceObject.GiCrabClaw, {
    className: "clawDislike",
    size: 40,
    style: {
      color: '#fb551c'
    }
  }) : /*#__PURE__*/external_react_default().createElement(gi_namespaceObject.GiCrabClaw, {
    className: "clawDislike",
    size: 40
  })), /*#__PURE__*/external_react_default().createElement("h6", {
    style: {
      textAlign: 'center'
    }
  }, numDislikes > 1000 ? numDislikes / 1000 + 'k' : numDislikes)), /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-1"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => onComment()
  }, /*#__PURE__*/external_react_default().createElement(CrabMessage, {
    size: 40
  })), /*#__PURE__*/external_react_default().createElement("h6", {
    style: {
      textAlign: 'center'
    }
  }, numComments > 1000 ? numComments / 1000 + 'k' : numComments))));
}
;// CONCATENATED MODULE: ./src/components/AddPost.js

function AddPost(_ref) {
  var _state$account$_id, _state$account;
  let {
    state,
    addPost = f => f
  } = _ref;
  const [message, setMessage] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('PostMessage', '');
  const [image, setImage] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('PostImage', null);
  const [add, setAdd] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('PostAdd', false);
  const openPost = () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
    setAdd(true);
  };
  const buildPost = () => {
    if (image !== null || message !== '') {
      addPost({
        image: image,
        message: message
      });
    }
    clearForm();
  };
  const clearForm = () => {
    setAdd(false);
    setImage(null);
    setMessage('');
  };
  const id = (_state$account$_id = (_state$account = state.account) === null || _state$account === void 0 ? void 0 : _state$account._id) !== null && _state$account$_id !== void 0 ? _state$account$_id : null;
  return /*#__PURE__*/React.createElement("div", {
    style: {
      zIndex: 9999
    },
    className: "banner"
  }, id !== null && /*#__PURE__*/React.createElement("form", {
    style: {
      marginBlock: '10px'
    },
    className: "row rounded add ".concat(add ? 'p-3' : ''),
    onSubmit: e => {
      e.preventDefault();
      buildPost();
    }
  }, !add && /*#__PURE__*/React.createElement("button", {
    className: "btn btn-success banner",
    onClick: () => openPost()
  }, "Add Post"), add && /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "col-lg-2 mx-auto"
  }, /*#__PURE__*/React.createElement("h1", null, "Ad")), /*#__PURE__*/React.createElement("div", {
    className: "p-3"
  }, /*#__PURE__*/React.createElement("label", {
    className: "form-label"
  }, "Capiton"), /*#__PURE__*/React.createElement("input", {
    className: "form-control",
    type: "paragraph",
    value: message,
    onInput: e => setMessage(e.target.value)
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("input", {
    type: "file",
    accept: "image/*",
    className: "form-control",
    onInput: e => setImage(e.target.files[0])
  })), /*#__PURE__*/React.createElement("table", {
    style: {
      width: '100%'
    }
  }, /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("th", null, /*#__PURE__*/React.createElement("button", {
    type: "submit",
    style: {
      marginTop: '10px'
    },
    className: "btn btn-success col"
  }, "Sumbit Post")), /*#__PURE__*/React.createElement("th", {
    style: {
      textAlign: 'right'
    }
  }, /*#__PURE__*/React.createElement("button", {
    style: {
      marginTop: '10px'
    },
    className: "btn btn-success col",
    onClick: () => {
      clearForm();
    }
  }, "Nevermind")))))));
}
;// CONCATENATED MODULE: external "react-icons/io5"
const io5_namespaceObject = require("react-icons/io5");
;// CONCATENATED MODULE: ./src/helpers/LoggedButton.js




function LoggedButton(_ref) {
  let {
    loggedIn = false,
    setState = f => f
  } = _ref;
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  const log = () => {
    if (loggedIn) {
      setState({});
    }
    navigate('/');
  };
  return /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => log()
  }, loggedIn && /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement(io5_namespaceObject.IoLogOut, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Logoute")), !loggedIn && /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement(io5_namespaceObject.IoLogIn, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Login")));
}
;// CONCATENATED MODULE: ./src/components/Posts.js










function Posts(_ref) {
  var _state$account$_id, _state$account, _state$account$_id2, _state$account2;
  let {
    state,
    setState,
    account
  } = _ref;
  const [posts, setPosts] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('Posts', []);
  const [filter, setFilter] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('Filter', {
    status: 'Dates'
  });
  const [render, setRender] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('Render', false);
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  const supplementPosts = async (post, callback) => {
    const response = await fetch("".concat(helpers_ApiUrl, "/api/account/").concat(post.user));
    if (response.ok) {
      const data = await response.json();
      return {
        ...post,
        ...data
      };
    }
    return post;
  };
  const getPosts = async () => {
    const response = await fetch("".concat(helpers_ApiUrl, "/api/posts/").concat(account ? state.account._id : 'null'));
    if (response.ok) {
      const data = await response.json();
      const posts = await Promise.all(data.map((x, i) => supplementPosts(x)));
      switch (filter.status) {
        case 'Likes':
          setPosts(posts.sort((a, b) => b.likes.length - a.likes.length));
          break;
        case 'Dislikes':
          setPosts(posts.sort((a, b) => b.dislikes.length - a.dislikes.length));
          break;
        case 'Comments':
          setPosts(posts.sort((a, b) => b.comments.length - a.comments.length));
          break;
        case 'Dates':
          setPosts(posts.sort((a, b) => new Date(b.date) - new Date(a.date)));
          break;
        default:
          setPosts(posts);
      }
    }
  };
  (0,external_react_namespaceObject.useEffect)(() => {
    getPosts();
    return () => {
      setRender(false);
    };
  }, [filter, render]);
  const addPost = newPost => {
    var _newPost$image$name, _newPost$image;
    let body = {
      user: state.account._id,
      image: null,
      caption: newPost.message
    };
    const uploadPost = async () => {
      await fetch("".concat(helpers_ApiUrl, "/api/posts/"), {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(body)
      });
      setRender(true);
    };
    if ((_newPost$image$name = (_newPost$image = newPost.image) === null || _newPost$image === void 0 ? void 0 : _newPost$image.name) !== null && _newPost$image$name !== void 0 ? _newPost$image$name : null) {
      const reader = new FileReader();
      reader.onloadend = () => {
        body.image = reader.result;
        uploadPost();
      };
      reader.readAsDataURL(newPost.image);
    } else {
      uploadPost();
    }
  };
  return /*#__PURE__*/external_react_default().createElement("div", null, !account && /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("table", {
    style: {
      width: '100%'
    }
  }, /*#__PURE__*/external_react_default().createElement("tr", null, /*#__PURE__*/external_react_default().createElement("th", {
    style: {
      textAlign: 'center'
    }
  }), /*#__PURE__*/external_react_default().createElement("th", {
    style: {
      textAlign: 'right'
    }
  }, ((_state$account$_id = (_state$account = state.account) === null || _state$account === void 0 ? void 0 : _state$account._id) !== null && _state$account$_id !== void 0 ? _state$account$_id : null) !== null && /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => navigate('/Account')
  }, /*#__PURE__*/external_react_default().createElement(md_namespaceObject.MdAccountCircle, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Accoutn")), ((_state$account$_id2 = (_state$account2 = state.account) === null || _state$account2 === void 0 ? void 0 : _state$account2._id) !== null && _state$account$_id2 !== void 0 ? _state$account$_id2 : null) === null && /*#__PURE__*/external_react_default().createElement(LoggedButton, {
    setState: setState
  })))), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("h1", {
    className: "col-lg-3 mx-auto m-3"
  }, "Lobter Biskueue"))), /*#__PURE__*/external_react_default().createElement(Menu, {
    filter: filter,
    setFilter: setFilter
  }), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      backgroundColor: 'grey'
    },
    className: "col-lg-6 mx-auto p-3 rounded"
  }, /*#__PURE__*/external_react_default().createElement("h1", {
    style: {
      textAlign: 'center'
    }
  }, "Post's"), /*#__PURE__*/external_react_default().createElement(AddPost, {
    state: state,
    addPost: addPost
  }), posts.map((post, i) => /*#__PURE__*/external_react_default().createElement(Post, {
    key: i,
    post: post,
    state: state,
    setRender: setRender
  })))));
}
;// CONCATENATED MODULE: ./src/components/Comment.js

function Comment(_ref) {
  let {
    comment,
    setComments = f => f
  } = _ref;
  return /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      marginBottom: '10px'
    },
    className: "contrast rounded p-3"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-1 p-3"
  }, /*#__PURE__*/external_react_default().createElement("img", {
    className: "rounded",
    style: {
      width: '50px',
      height: '50px'
    },
    src: comment.profile,
    alt: ""
  })), /*#__PURE__*/external_react_default().createElement("h4", {
    style: {
      display: 'flex',
      justifyContent: 'left',
      alignItems: 'center'
    },
    className: "col-lg-5"
  }, comment.name)), /*#__PURE__*/external_react_default().createElement("p", null, comment.content));
}
;// CONCATENATED MODULE: ./src/components/AddComment.js



function AddComment(_ref) {
  let {
    state,
    postId,
    setRender = f => f
  } = _ref;
  const [add, setAdd] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('CommentAdd', false);
  const [comment, setComment] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('CommentMessage', '');
  (0,external_react_namespaceObject.useEffect)(() => {
    window.scrollTo({
      top: 0,
      behavior: 'instant'
    });
  }, []);
  const AddComment = async () => {
    if (comment !== '') {
      setComment('');
      setAdd(false);
      await fetch("".concat(helpers_ApiUrl, "/api/comments/"), {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          post: postId,
          user: state.account._id,
          content: comment
        })
      });
      setRender(true);
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "banner col-10 mx-auto"
  }, state.account.id !== null && /*#__PURE__*/React.createElement("form", {
    className: "row rounded add ".concat(add ? 'p-3' : ''),
    style: {
      marginBlock: '10px'
    },
    onSubmit: e => {
      e.preventDefault();
      AddComment();
    }
  }, !add && /*#__PURE__*/React.createElement("button", {
    className: "btn btn-success",
    onClick: () => setAdd(true)
  }, "Add Commetn"), add && /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "col-lg-2 mx-auto"
  }, /*#__PURE__*/React.createElement("h1", null, "Ad")), /*#__PURE__*/React.createElement("div", {
    className: "p-3"
  }, /*#__PURE__*/React.createElement("label", {
    className: "form-label"
  }, "Commetn"), /*#__PURE__*/React.createElement("input", {
    type: "paragraph",
    className: "form-control",
    value: comment,
    onInput: e => setComment(e.target.value)
  })), /*#__PURE__*/React.createElement("table", {
    style: {
      width: '100%'
    }
  }, /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("th", null, /*#__PURE__*/React.createElement("button", {
    type: "submit",
    className: "btn btn-success"
  }, "Sumbit")), /*#__PURE__*/React.createElement("th", {
    style: {
      textAlign: 'right'
    }
  }, /*#__PURE__*/React.createElement("button", {
    className: "btn btn-success",
    onClick: () => {
      setAdd(false);
      setComment('');
    }
  }, "Nevermind")))))));
}
;// CONCATENATED MODULE: external "react-icons/bs"
const bs_namespaceObject = require("react-icons/bs");
;// CONCATENATED MODULE: ./src/components/Comments.js








function Comments(_ref) {
  let {
    state
  } = _ref;
  const location = (0,external_react_router_dom_namespaceObject.useLocation)();
  const {
    post
  } = location.state;
  const [comments, setComments] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('Comments', []);
  const [render, setRender] = (0,external_react_namespaceObject.useState)(false);
  const navigate = (0,external_react_router_dom_namespaceObject.useNavigate)();
  const getComments = async () => {
    const response = await fetch("".concat(helpers_ApiUrl, "/api/comments/").concat(post._id));
    const data = await response.json();
    setComments(data.sort((a, b) => new Date(a.date) - new Date(b.date)));
  };
  (0,external_react_namespaceObject.useEffect)(() => {
    getComments();
    return () => {
      setRender(false);
    };
  }, [render]);
  return /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-6 mx-auto p-3"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => navigate(-1)
  }, /*#__PURE__*/external_react_default().createElement(bs_namespaceObject.BsArrowLeftSquareFill, {
    size: 40
  })), /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      marginBottom: '10px'
    },
    className: "contrast rounded p-3"
  }, /*#__PURE__*/external_react_default().createElement(PartialPost, {
    post: post
  })), /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      backgroundColor: 'grey'
    },
    className: "rounded"
  }, /*#__PURE__*/external_react_default().createElement("h1", {
    style: {
      textAlign: 'center'
    }
  }, "Commetn's"), /*#__PURE__*/external_react_default().createElement(AddComment, {
    state: state,
    postId: post._id,
    setRender: setRender
  }), comments.map((comment, i) => /*#__PURE__*/external_react_default().createElement(Comment, {
    key: i,
    comment: comment,
    setComments: setComments
  })))));
}
;// CONCATENATED MODULE: ./src/components/Account.js





function Account(_ref) {
  var _state$account$_id, _state$account;
  let {
    state,
    setState
  } = _ref;
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  const settings = () => {
    navigate('/Settings');
  };
  return /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("table", {
    style: {
      width: '100%'
    }
  }, /*#__PURE__*/external_react_default().createElement("tr", null, /*#__PURE__*/external_react_default().createElement("th", null, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => navigate(-1)
  }, /*#__PURE__*/external_react_default().createElement(bs_namespaceObject.BsArrowLeftSquareFill, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Back"))), /*#__PURE__*/external_react_default().createElement("th", {
    style: {
      textAlign: 'right'
    }
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn"
  }, /*#__PURE__*/external_react_default().createElement(bs_namespaceObject.BsGearFill, {
    size: 40,
    onClick: () => settings()
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Settin's")), /*#__PURE__*/external_react_default().createElement(LoggedButton, {
    loggedIn: ((_state$account$_id = (_state$account = state.account) === null || _state$account === void 0 ? void 0 : _state$account._id) !== null && _state$account$_id !== void 0 ? _state$account$_id : null) !== null,
    setState: setState
  })))), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      textAlign: 'center'
    },
    className: "col-lg-4 mx-auto"
  }, /*#__PURE__*/external_react_default().createElement("img", {
    className: "rounded",
    width: 300,
    height: 300,
    src: state.account.profile
  }), /*#__PURE__*/external_react_default().createElement("h1", null, state.account.name), /*#__PURE__*/external_react_default().createElement("p", null, state.account.bio)), /*#__PURE__*/external_react_default().createElement(Posts, {
    state: state,
    account: true
  })));
}
;// CONCATENATED MODULE: external "axios"
const external_axios_namespaceObject = require("axios");
;// CONCATENATED MODULE: external "react-icons/io"
const io_namespaceObject = require("react-icons/io");
;// CONCATENATED MODULE: ./src/components/Settings.js






function Settings(_ref) {
  let {
    state,
    setState
  } = _ref;
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  const [bio, setBio] = (0,external_react_namespaceObject.useState)(state.account.bio);
  const [name, setName] = (0,external_react_namespaceObject.useState)(state.account.name);
  const [password, setPassword] = (0,external_react_namespaceObject.useState)('');
  const [profile, setProfile] = (0,external_react_namespaceObject.useState)(state.account.profile);
  const [file, setFile] = (0,external_react_namespaceObject.useState)(null);
  const [errorMessage, setErrorMessage] = (0,external_react_namespaceObject.useState)('');
  const updateProfile = file => {
    setFile(file);
    const reader = new FileReader();
    reader.onloadend = () => {
      setProfile(reader.result);
    };
    reader.readAsDataURL(file);
  };
  const refresh = () => {
    setBio(state.account.bio);
    setName(state.account.name);
    setPassword('');
    setProfile(state.account.profile);
    setFile(null);
  };
  const updateAccount = async () => {
    const response = await fetch("".concat(helpers_ApiUrl, "/api/account/update").concat(state.account._id), {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        bio: bio,
        name: name,
        password: password,
        profile: profile
      })
    });
    if (response.ok) {
      const data = await response.json();
      setState({
        ...{
          ...state,
          account: data
        }
      });
      navigate(-1);
    }
  };
  return /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("table", {
    width: '100%'
  }, /*#__PURE__*/external_react_default().createElement("tr", null, /*#__PURE__*/external_react_default().createElement("th", null, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => navigate(-1)
  }, /*#__PURE__*/external_react_default().createElement(bs_namespaceObject.BsArrowLeftSquareFill, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Accoutn"))))), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      textAlign: 'center'
    },
    className: "col-lg-4 mx-auto"
  }, /*#__PURE__*/external_react_default().createElement("img", {
    className: "rounded",
    width: 300,
    height: 300,
    src: profile
  }), /*#__PURE__*/external_react_default().createElement("h1", null, name), /*#__PURE__*/external_react_default().createElement("p", null, bio))), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row"
  }, /*#__PURE__*/external_react_default().createElement("div", {
    className: "col-lg-6 mx-auto contrast rounded p-3"
  }, /*#__PURE__*/external_react_default().createElement("h3", {
    style: {
      textAlign: 'center'
    }
  }, "Updat Accoutn"), /*#__PURE__*/external_react_default().createElement("form", {
    onSubmit: e => {
      e.preventDefault();
      updateAccount();
    }
  }, /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      textAlign: 'right'
    }
  }, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn"
  }, /*#__PURE__*/external_react_default().createElement(io_namespaceObject.IoMdRefresh, {
    size: 40,
    onClick: () => refresh()
  }), /*#__PURE__*/external_react_default().createElement("p", null, "refersh"))), errorMessage !== '' && /*#__PURE__*/external_react_default().createElement("p", {
    className: "text-danger"
  }, errorMessage), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Name"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    value: name,
    onInput: e => setName(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Bio"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    value: bio,
    onInput: e => setBio(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Profile"), /*#__PURE__*/external_react_default().createElement("input", {
    type: "file",
    accept: "image/*",
    className: "form-control",
    onInput: e => updateProfile(e.target.files[0])
  })), /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("label", {
    className: "form-label"
  }, "Password"), /*#__PURE__*/external_react_default().createElement("input", {
    className: "form-control",
    value: password,
    onInput: e => setPassword(e.target.value)
  })), /*#__PURE__*/external_react_default().createElement("div", {
    className: "row p-3"
  }, /*#__PURE__*/external_react_default().createElement("button", {
    type: "submit",
    className: "btn btn-success col-lg-10 mx-auto"
  }, "Sumbit"))))));
}
;// CONCATENATED MODULE: ./src/components/404.js



function NotFound(_ref) {
  let {} = _ref;
  const navigate = (0,external_react_router_namespaceObject.useNavigate)();
  return /*#__PURE__*/external_react_default().createElement("div", null, /*#__PURE__*/external_react_default().createElement("button", {
    className: "btn",
    onClick: () => navigate(-1)
  }, /*#__PURE__*/external_react_default().createElement(bs_namespaceObject.BsArrowLeftSquareFill, {
    size: 40
  }), /*#__PURE__*/external_react_default().createElement("p", null, "Back")), /*#__PURE__*/external_react_default().createElement("div", {
    style: {
      textAlign: 'center'
    }
  }, /*#__PURE__*/external_react_default().createElement("h1", null, "404"), /*#__PURE__*/external_react_default().createElement("h2", null, "- Not Found -")));
}
;// CONCATENATED MODULE: ./src/App.js










function App() {
  var _state$account$_id, _state$account, _state$account$_id2, _state$account2;
  const [state, setState] = (0,external_react_storage_complete_namespaceObject.useSessionStorage)('State', {});
  return /*#__PURE__*/external_react_default().createElement((external_react_default()).Fragment, null, /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Routes, null, /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/",
    element: /*#__PURE__*/external_react_default().createElement(Login, {
      state: state,
      setState: setState
    })
  }), /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/Posts",
    element: /*#__PURE__*/external_react_default().createElement(Posts, {
      setState: setState,
      state: state
    })
  }), /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/Comments",
    element: /*#__PURE__*/external_react_default().createElement(Comments, {
      state: state
    })
  }), ((_state$account$_id = (_state$account = state.account) === null || _state$account === void 0 ? void 0 : _state$account._id) !== null && _state$account$_id !== void 0 ? _state$account$_id : null) !== null && /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/Account",
    element: /*#__PURE__*/external_react_default().createElement(Account, {
      state: state,
      setState: setState
    })
  }), ((_state$account$_id2 = (_state$account2 = state.account) === null || _state$account2 === void 0 ? void 0 : _state$account2._id) !== null && _state$account$_id2 !== void 0 ? _state$account$_id2 : null) !== null && /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/Settings",
    element: /*#__PURE__*/external_react_default().createElement(Settings, {
      state: state,
      setState: setState
    })
  }), /*#__PURE__*/external_react_default().createElement(external_react_router_dom_namespaceObject.Route, {
    path: "/*",
    element: /*#__PURE__*/external_react_default().createElement(NotFound, null)
  })));
}
;// CONCATENATED MODULE: ./server/server.js















// const PORT = process.env.port || 3000
const app = external_express_default()();
app.use(external_body_parser_default().json({
  limit: '100mb'
}));
app.use(external_body_parser_default().urlencoded({
  extended: true,
  limit: '100mb'
}));
app.use(external_cors_default()());
app.use(external_express_default().json({
  limit: '100mb'
}));
app.use(external_express_default().urlencoded({
  limit: '100mb'
}));
app.use('/api/posts', posts);
app.use('/api/account', account);
app.use('/api/comments', comments);
app.use(external_express_default()["static"](external_path_default().join(__dirname, '../build')));
app.get('/*', (req, res) => {
  const indexFile = external_path_default().join(__dirname, '../build', 'index.html');
  const context = {};
  const app = server_default().renderToString( /*#__PURE__*/external_react_default().createElement(server_js_namespaceObject.StaticRouter, {
    location: req.url,
    context: context
  }, /*#__PURE__*/external_react_default().createElement(App, null)));
  external_fs_default().readFile(indexFile, 'utf8', (err, data) => {
    if (err) {
      console.log(err);
      return res.status(500);
    }
    return res.send(data.replace('<div id="root"></div>', "<div id=\"root\">".concat(app, "</div>")));
  });
});
const connectToDB = async () => {
  const connected = await external_mongoose_default().connect(process.env.ATLAS_URI);
  return connected;
};
connectToDB();
/* harmony default export */ const server = ((/* unused pure expression or super */ null && (app)));
/******/ })()
;